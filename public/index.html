<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HodlInfo - Tickers</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <header>
      <div>
        <img
          src="../assets/HODLINFO_white.8f78fc06.png"
          alt="hodlinfo tab"
          width="300"
        />
      </div>
      <div>
        <select id="currencymedium">
          <option value="INR" selected>INR</option>
        </select>
        <select id="cars">
          <option value="WRX">WRX</option>
          <option value="BTT">BTT</option>
          <option value="WIN">WIN</option>
          <option value="XEM">XEM</option>
          <option value="ZEC">ZEC</option>
          <option value="DASH">DASH</option>
          <option value="TRX">XTRX</option>
          <option value="XRP">XRP</option>
          <option value="USDT">USDT</option>
          <option value="BTC" selected>BTC</option>
        </select>
        <a
          class="Buyeth"
          href="https://wazirx.com/invite/sp7pvbt6?utm_source=finstreet&utm_medium=affiliate&utm_campaign=regnow-btn"
          target="_blank"
        >
          BUY ETH
        </a>
      </div>
      <div>
        <button style="background-color: #3dc6c1">
          <img src="../assets/telegram.png" alt="telegram" width="20" />
          <span style="color: white">Connect Telegram</span>
        </button>
        <input type="checkbox" id="checkbg" name="bgcolortoggle" />
      </div>
    </header>
    <section>
      <table>
        <thead>
          <tr>
            <th>#</th>
            <th>Platform</th>
            <th>Last Traded Price</th>
            <th>Buy/Sell Price</th>
            <th>Sell Price</th>
            <th>Difference</th>
            <th>Savings</th>
          </tr>
        </thead>
        <tbody id="ticker-table-body"></tbody>
      </table>
    </section>
    <footer style="border-top: 10px solid #343a40">
      <div>
        <div><span>Copyright Â© 2019</span> <span>Hodlinfo.com</span></div>
        <div>Support</div>
      </div>
    </footer>
    <script>
      async function fetchTickers() {
        try {
          const response = await fetch(
            "https://quadass-project.onrender.com/api/vi/tickers"
          );
          const result = await response.json();

          const tableBody = document.getElementById("ticker-table-body");
          tableBody.innerHTML = "";

          result.data.forEach((ticker, index) => {
            const row = document.createElement("tr");
            let tickercount = index + 1;
            row.innerHTML = `
                        <td>${tickercount}</td>
                        <td>${ticker.name}</td>
                        <td>${ticker.last}</td>
                        <td>${ticker.buy}</td>
                        <td>${ticker.sell}</td>
                        <td>${ticker.volume}</td>
                        <td>${ticker.base_unit}</td>
                    `;
            tableBody.appendChild(row);
          });
        } catch (error) {
          console.error("Error fetching tickers:", error);
        }
      }
      fetchTickers();
    </script>
  </body>
</html>
